<!DOCTYPE html>
<html lang="en">
<head>
    <title>Airline Booking Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-5">
    <h1>Welcome to the Airline Booking System</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    {% if current_user.is_authenticated %}
        <p class="mt-3">Hello, {{ current_user.name }}!</p>
        <a href="{{ url_for('flights') }}" class="btn btn-primary">View Flights</a>
        <a href="{{ url_for('logout') }}" class="btn btn-secondary">Logout</a>

        {% if current_user.is_admin %}
            <a href="{{ url_for('add_flight') }}" class="btn btn-warning ms-2">âž• Add New Flight</a>
        {% endif %}

        {% if booking %}
        <div class="alert alert-info mt-4">
            <strong>Latest Booking:</strong> Flight {{ booking.Flight_Number }}, Seat {{ booking.Seat_Number }}<br>
            Booking Date: {{ booking.Booking_Date }}
        </div>
        {% endif %}
    {% else %}
        <a href="{{ url_for('login') }}" class="btn btn-primary">Login</a>
        <a href="{{ url_for('register') }}" class="btn btn-success">Register</a>
    {% endif %}
</body>
</html>
